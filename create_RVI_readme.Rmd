* * *
### Contact and credit

X Shen (xueyi.shen@ed.ac.uk, emails replied on Wednesdays and Fridays)

Reference: https://ajp.psychiatryonline.org/doi/pdf/10.1176/appi.ajp.2019.18101212




* * *
### R settings

Required packages: dplyr, pbapply

Source file: create_RVI.R



* * *
### Usage

##### Source the R function

Type 'source('create_RVI.R')' in R terminal

\


##### Prepare input data

- x: dataframe of individual brain measures. The first column should be IDs. Brain measures and covs should be included in the data
- ls.covs: a vector of column names in x that should be covariates
- ls.control.ID: a vector of subj IDs for healthy controls
- ref.beta: reference beta from an independent sample


\


##### Call create_RVI function

- Correcting for confounders: RVI=create_RVI(x=..,ls.covs=..,ls.control.ID=..,ref.beta=..)
- Omit corretion: RVI=create_RVI(x=..,ls.covs=..,ls.control.ID=..,ref.beta=..,resid_process=F)

The returned object will be the output (RVI in the example above)




* * *
### Example

Check: example.RVI_create_stradl_MD.Rmd

